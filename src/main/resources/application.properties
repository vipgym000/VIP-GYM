# === Hibernate / JPA ===
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.dialect=${SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT:org.hibernate.dialect.PostgreSQLDialect}
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=${SPRING_JPA_PROPERTIES_HIBERNATE_JDBC_LOB_NON_CONTEXTUAL_CREATION:true}
spring.jpa.properties.hibernate.jdbc.time_zone=${SPRING_JPA_PROPERTIES_HIBERNATE_JDBC_TIME_ZONE:Asia/Kolkata}

# === Server Config ===
spring.application.name=${SPRING_APPLICATION_NAME:VipGym}
server.address=${SERVER_ADDRESS:0.0.0.0}
server.port=${SERVER_PORT:8443}

# === JSON & Timezone ===
spring.jackson.time-zone=${SPRING_JACKSON_TIME_ZONE:Asia/Kolkata}

# === Email Config ===
spring.mail.host=${SPRING_MAIL_HOST:smtp.gmail.com}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE:true}
spring.mail.properties.mail.smtp.starttls.required=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_REQUIRED:true}
spring.mail.properties.mail.smtp.connectiontimeout=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_CONNECTIONTIMEOUT:5000}
spring.mail.properties.mail.smtp.timeout=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_TIMEOUT:5000}
spring.mail.properties.mail.smtp.writetimeout=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_WRITETIMEOUT:5000}

# === File Uploads ===
spring.servlet.multipart.max-file-size=${SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE:10MB}

# === Google Drive Configuration ===
google.drive.folder.id=${GOOGLE_DRIVE_FOLDER_ID}

# === Supabase PostgreSQL Connection Pool (Free Tier Friendly) ===
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/vipgym}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:root}
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP settings to avoid exhausting Supabase connections
spring.datasource.hikari.maximum-pool-size=5           
spring.datasource.hikari.minimum-idle=1                
spring.datasource.hikari.idle-timeout=30000           
spring.datasource.hikari.max-lifetime=1800000         
spring.datasource.hikari.connection-timeout=20000     
spring.datasource.hikari.leak-detection-threshold=15000  
spring.datasource.hikari.pool-name=SupabaseHikariPool

